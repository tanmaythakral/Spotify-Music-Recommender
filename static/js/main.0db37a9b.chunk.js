(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{54:function(e,t,a){},60:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),s=a(26),o=a.n(s),r=a(1);function i(){return Object(r.jsx)("div",{children:Object(r.jsx)("nav",{class:"navbar",children:Object(r.jsx)("div",{class:"container-fluid",children:Object(r.jsx)("span",{class:"navbar-brand mb-0 h1",children:"Spotify Songs Recommender"})})})})}new Date;function l(){return Object(r.jsx)("div",{children:Object(r.jsx)("footer",{})})}var d=a(14),u=a.n(d),p=a(27),h=a(4),j=a(9),m=a.n(j),b=["Alt Rock","Bluegrass","Blues","Classical","Country","Dance","Electro","Hard Rock","Heavy Metal","Hip Hop","House","Indie","Jrock","Kpop","Pop"];function O(){var e=new URLSearchParams("http://localhost:3000/#/search#access_token=BQCeN8OlQoRJTX_bB1lFfdIuazKQx3C0BFr75KeOTsDy0sdKVOVw7NFhvNQHTV7R09WsBvt6-vjuMiGl-5HPJyFVUKs3kevpXWraEyXh-Xqg8wT-NGvO7Z7Q3JdSXJKmj4GZYu8Ou0xpqYbqmVHkgsPuEOs9-LS6vzRx9BU_FZ1xNc0bLpHMylseNI1EEzRHbyWBMxtCCzAcXKaW9oXN--ENTcQvxs_p4g&token_type=Bearer&expires_in=3600".search).get("access_token");console.log("Token",e);var t=Object(n.useState)(""),a=Object(h.a)(t,2),c=a[0],s=a[1],o=Object(n.useState)([]),i=Object(h.a)(o,2),l=(i[0],i[1],Object(n.useState)("")),d=Object(h.a)(l,2),j=d[0],O=d[1],f=Object(n.useState)(""),v=Object(h.a)(f,2),x=v[0],y=v[1],g=Object(n.useState)(""),k=Object(h.a)(g,2),S=k[0],C=k[1],w=Object(n.useState)([{}]),B=Object(h.a)(w,2),_=B[0],H=B[1],R=Object(n.useState)(!1),T=Object(h.a)(R,2),A=T[0],z=T[1],M=Object(n.useState)(""),N=Object(h.a)(M,2),E=N[0],G=N[1],K=Object(n.useState)(10),P=Object(h.a)(K,2),I=P[0],J=P[1],X=Object(n.useState)("kpop"),F=Object(h.a)(X,2),Q=F[0],q=F[1],D=Object(n.useState)(""),L=Object(h.a)(D,2),U=L[0],V=L[1],W=Object(n.useState)(""),Z=Object(h.a)(W,2),Y=Z[0],$=Z[1],ee=Object(n.useState)(.5),te=Object(h.a)(ee,2),ae=te[0],ne=te[1];function ce(){return(ce=Object(p.a)(u.a.mark((function t(){var a,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return m()("https://api.spotify.com/v1/me",{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+c}}).then((function(e){C(e.data.display_name),G(e.data.id)})),a=[],n=[],s(e),t.next=6,m()("https://api.spotify.com/v1/recommendations",{method:"GET",params:{limit:I,seed_artists:Y,seed_genres:Q,seed_tracks:U,target_danceability:ae},headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+c}}).then((function(e){for(var t=0;t<I;t++){var c=e.data.tracks[t].uri;a.push(c);var s={songname:e.data.tracks[t].name,imageurl:e.data.tracks[t].album.images[1].url};n.push(s)}y(a),H(n),z(!0),alert("Checkout your recommendations! Hit button again for another set or scroll down to add them on spotify")})).catch((function(e){console.log(e)}));case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(n.useEffect)((function(){m()("https://api.spotify.com/v1/me/top/tracks",{method:"GET",headers:{Authorization:"Bearer "+e}}).then((function(e){for(var t=[],a=0;a<20;a++){var n=e.data.items[a].id;t.push(n)}var c=Math.floor(Math.random()*t.length);V(t[c])})),m()("https://api.spotify.com/v1/me/top/artists",{method:"GET",headers:{Authorization:"Bearer "+e}}).then((function(e){for(var t=[],a=0;a<20;a++){var n=e.data.items[a].id;t.push(n)}var c=Math.floor(Math.random()*t.length);$(t[c])}))}),[]),Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{class:"mb-3",children:[Object(r.jsx)("h2",{children:"Choose your Genre!"}),Object(r.jsx)("select",{class:"genre-select form-select form-select-lg mb-3",onChange:function(e){q(e.target.value)},"aria-label":".form-select-lg example",children:b.map((function(e,t){return Object(r.jsx)("option",{value:t,children:e})}))}),Object(r.jsx)("h2",{children:"How many recommendations do you need?"}),Object(r.jsx)("input",{value:I,type:"number",onChange:function(e){J(e.target.value)},min:"1",max:"100",class:"form-control",id:"exampleInputPassword1"}),Object(r.jsx)("h2",{children:"How much do you feel like Dancing?"}),Object(r.jsx)("input",{type:"range",onChange:function(e){ne(e.target.value)},class:"form-range",min:"0",max:"1",step:".001",id:"customRange2"})]}),Object(r.jsx)("button",{id:"get-recom",onClick:function(){return ce.apply(this,arguments)},children:"Get Recommended"}),A?Object(r.jsxs)("h1",{class:"welcome-header",children:["Ok! ",Object(r.jsx)("span",{id:"name",children:S})," let's get started"]}):null,A?Object(r.jsx)("div",{children:_.map((function(e){return Object(r.jsxs)("div",{className:"album row",children:[Object(r.jsx)("img",{className:"albumimage col-6",src:e.imageurl,alt:e.songname}),Object(r.jsx)("h1",{className:"albumnheading col-6",children:e.songname})]})}))}):null,A?Object(r.jsx)("button",{onClick:function(){m()("https://api.spotify.com/v1/users/"+E+"/playlists",{method:"POST",data:{name:"My Playlist",description:"Created by KingShadow285",public:!1},headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+c}}).then((function(e){O(e.data.id),m()("https://api.spotify.com/v1/playlists/"+j+"/tracks",{method:"Post",data:{uris:x},headers:{"Content-Type":"application/json",Authorization:"Bearer "+c}}).then((function(e){alert("Songs have been added!")})).catch((function(e){console.log(e)}))}))},id:"addtoplaylist",children:"Add to Spotify"}):null]})})}var f=function(){return Object(r.jsxs)("div",{className:"App",children:[Object(r.jsx)(i,{}),Object(r.jsx)(O,{}),Object(r.jsx)(l,{})]})},v=(a(54),[{ClientId:"302e8a7bf7464b7c8c53b0ed7fe09005"}]);function x(){m()("https://accounts.spotify.com/authorize",{method:"redirect",crossDomain:!0,params:{client_id:v[0].ClientId,redirect_uri:"https://tanmaythakral.github.io/Spotify-Music-Recommender/#/search/",response_type:"token",scope:"playlist-modify-public playlist-modify-private user-top-read"}}).then((function(e){console.log(e.request.responseURL),window.location.replace(e.request.responseURL)}))}var y=a(28),g=a(2);o.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(y.a,{basename:"/Spotify-Music-Recommender",children:Object(r.jsxs)(g.c,{children:[Object(r.jsx)(g.a,{path:"/",exact:!0,component:function(){return Object(r.jsxs)("div",{children:[Object(r.jsx)("h1",{class:"welcome-header",children:"Hello"}),Object(r.jsx)("button",{onClick:x,children:"Click to authorize"})]})}}),Object(r.jsx)(g.a,{path:"/search",component:f})]})})}),document.getElementById("root"))}},[[60,1,2]]]);
//# sourceMappingURL=main.0db37a9b.chunk.js.map